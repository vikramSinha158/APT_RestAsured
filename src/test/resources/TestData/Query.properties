********************************************************************BillEditandDefectCategory,ActionandNotes****************************************************
DNNQuery = select top 1 username, userid from users where lastname like 'dawar%';
DNNSelectEncounterID = select top 1 encounterid from Registrations order by NEWID();
ToGetWorkFlowType=select id from workflowtypes where name = '%s';
ToGetRegistrationsID=select id from Registrations where EncounterID='%s';
ToGetDetailFromDefectAccount=select * from Payer.DefectAccount where RegistrationID='%s';
ToGetDetailsFromePARsActive=select createddatetime, createdby, updateddatetime, updatedby from ePARsActive where RegistrationID='%s';
ToGetDetailsFromDefectHandoff=Select createduserid, createddatetime, workflowtypeid, updateduserid, updateddatetime from payer.DefectHandoff where RegistrationID='%s';
ToGetDetailsFromWorkflowStatus=Select * from WorkflowStatus where recordkey='%s' ORDER BY id DESC
ToGetDetailsFromAHCrossSite_CrossSiteRegistry= Select * from AHCrossSite_CrossSiteRegistry WHERE RegistrationID='%s';
ToGetDetailsFromAHCrossSite_CrossSiteRegistryDetail=Select facilitycode from AHCrossSite_CrossSiteRegistryDetail WHERE RegistrationID='%s';
ToGetProcesslogs=select top 1 * from processlogs where createdby='%s' order by createddatetime desc;
ToGetDefectAccountDetails=Select * from payer.DefectAccount where RegistrationID = '%s';
ToGetDefectCateogory=select top 1 DefectTypeDesc from DefectType where IsActive = 1 and ApplicationID =1 and DefectTypeID=1;
ToGetDefectSubCategory=select top 1 DefectSubCategoryDesc, DefectSubCategoryID from DefectSubCategory where IsActive= 1 and DefectTypeID = 1 order by DefectSubCategoryDesc;
ToGetResultText=SELECT top 1 A.ID, A.Name FROM Accretive_DefectSubCategory dsc INNER JOIN Accretive_DefectSOP sop on dsc.DefectSubCategoryId = sop.DefectSubCategoryId INNER JOIN Accretive_WorkflowTypes wt ON wt.Name='Integrated Defect Management' INNER JOIN Accretive_Workflowsubtypes wst on wt.ID = wst.WorkflowTypeId AND sop.WorkflowSubTypeId = wst.subTypeID AND wst.Active=1 INNER JOIN Accretive_WorkflowTypeActions wta on wta.SubTypeId = wst.SubTypeId AND wta.WorkFlowTypeId = wst.WorkFlowTypeId AND wta.Active=1 INNER JOIN Accretive_Actions a on wta.ActionId = a.ID AND a.Active=1 WHERE A.IsRequired = 1 and dsc.DefectSubCategoryId='%s';
ToGetNewDefectCateogory=select top 1 DefectTypeDesc from DefectType where IsActive = 1 and ApplicationID =1 and DefectTypeID=1;
ToGetNewDefectSubCategory=select top 1 DefectSubCategoryDesc, DefectSubCategoryID from DefectSubCategory where IsActive= 1 and DefectTypeID = 1 and not defectsubcategoryid = '%s' order by DefectSubCategoryDesc;
ToGetDefectAccountHistoryDetail=Select * from Payer.DefectAccountHistory where RegistrationID = '%s' and defectsubcategoryid='%s';
ToGetResultTextForCurrent=SELECT top 1 A.ID as ActionID ,A.Name as Name ,A.IsRequired ,A.TimeLimit ,A.FollowUPDays FROM Accretive_DefectSubCategory dsc INNER JOIN Accretive_DefectSOP sop on dsc.DefectSubCategoryId = sop.DefectSubCategoryId INNER JOIN Accretive_WorkflowTypes wt ON wt.Name='Integrated Defect Management' INNER JOIN Accretive_Workflowsubtypes wst on wt.ID = wst.WorkflowTypeId AND sop.WorkflowSubTypeId = wst.subTypeID AND wst.Active=1 INNER JOIN Accretive_WorkflowTypeActions wta on wta.SubTypeId = wst.SubTypeId AND wta.WorkFlowTypeId = wst.WorkFlowTypeId AND wta.Active=1 INNER JOIN Accretive_Actions a on wta.ActionId = a.ID AND a.Active=1 WHERE dsc.DefectSubCategoryId='%s' and A.IsRequired = 1 and A.FollowUPDays = '0';
ToGetResultTextForFuture=SELECT top 1 A.ID as ActionID ,A.Name as Name ,A.IsRequired ,A.TimeLimit ,A.FollowUPDays FROM Accretive_DefectSubCategory dsc INNER JOIN Accretive_DefectSOP sop on dsc.DefectSubCategoryId = sop.DefectSubCategoryId INNER JOIN Accretive_WorkflowTypes wt ON wt.Name='Integrated Defect Management' INNER JOIN Accretive_Workflowsubtypes wst on wt.ID = wst.WorkflowTypeId AND sop.WorkflowSubTypeId = wst.subTypeID AND wst.Active=1 INNER JOIN Accretive_WorkflowTypeActions wta on wta.SubTypeId = wst.SubTypeId AND wta.WorkFlowTypeId = wst.WorkFlowTypeId AND wta.Active=1 INNER JOIN Accretive_Actions a on wta.ActionId = a.ID AND a.Active=1 WHERE dsc.DefectSubCategoryId='%s' and A.IsRequired = 1 and A.FollowUPDays > '0';
ToGetProcessLogsDetails=Select * from ProcessLogs where RecordKey = '%s' and createdby='%s'  order by createddatetime desc;
ToGetWorkFlowStatusDetails=Select * from WorkFlowStatus where RecordKey = '%s' and createdby='%s' order By ID;
ToGetCrossSiteActionDetails=Select * from AHCrossSite_CrossSiteAction where RegistrationID='%s' and ActionByUserID='%s' order by CrossSiteActionID desc;
ToGetDefectAccountAttributeDetails=Select top 30 * from Payer.DefectAccountAttribute order by CreatedDateTime DESC;
ToGetResultTextQueryForCurrentActions=SELECT top 1A.ID as ActionID ,A.Name as Name ,A.IsRequired ,A.TimeLimit ,A.FollowUPDays FROM Accretive_DefectSubCategory dsc INNER JOIN Accretive_DefectSOP sop on dsc.DefectSubCategoryId = sop.DefectSubCategoryId INNER JOIN Accretive_WorkflowTypes wt ON wt.Name='Integrated Defect Management' INNER JOIN Accretive_Workflowsubtypes wst on wt.ID = wst.WorkflowTypeId AND sop.WorkflowSubTypeId = wst.subTypeID AND wst.Active=1 INNER JOIN Accretive_WorkflowTypeActions wta on wta.SubTypeId = wst.SubTypeId AND wta.WorkFlowTypeId = wst.WorkFlowTypeId AND wta.Active=1 INNER JOIN Accretive_Actions a on wta.ActionId = a.ID AND a.Active=1 WHERE dsc.DefectSubCategoryId='%s' and A.IsRequired = 1 and A.FollowUPDays = '0' and not A.ID = '%s';
ToGetCrossSiteRegistry=Select * from AHCrossSite_CrossSiteRegistry WHERE RegistrationID='%s' and createduserid='%s' order by 1 desc;
ToGetCrossSiteRegistryDetail=Select * from AHCrossSite_CrossSiteRegistryDetail WHERE RegistrationID='%s' and updateduserid='%s' order by 1 desc;
ToGetResultTextQueryForNotRequired=SELECT top 1 A.ID as ActionID ,A.Name as Name ,A.IsRequired ,A.TimeLimit ,A.FollowUPDays FROM Accretive_DefectSubCategory dsc INNER JOIN Accretive_DefectSOP sop on dsc.DefectSubCategoryId = sop.DefectSubCategoryId INNER JOIN Accretive_WorkflowTypes wt ON wt.Name='Integrated Defect Management' INNER JOIN Accretive_Workflowsubtypes wst on wt.ID = wst.WorkflowTypeId AND sop.WorkflowSubTypeId = wst.subTypeID AND wst.Active=1 INNER JOIN Accretive_WorkflowTypeActions wta on wta.SubTypeId = wst.SubTypeId AND wta.WorkFlowTypeId = wst.WorkFlowTypeId AND wta.Active=1 INNER JOIN Accretive_Actions a on wta.ActionId = a.ID AND a.Active=1 WHERE dsc.DefectSubCategoryId='%s' and A.IsRequired = 0 and A.FollowUPDays = '0';
ToGetResultTextDetails=SELECT top 1 A.ID, A.Name, A.FollowUPDays FROM Accretive_DefectSubCategory dsc INNER JOIN Accretive_DefectSOP sop on dsc.DefectSubCategoryId = sop.DefectSubCategoryId INNER JOIN Accretive_WorkflowTypes wt ON wt.Name='Integrated Defect Management' INNER JOIN Accretive_Workflowsubtypes wst on wt.ID = wst.WorkflowTypeId AND sop.WorkflowSubTypeId = wst.subTypeID AND wst.Active=1 INNER JOIN Accretive_WorkflowTypeActions wta on wta.SubTypeId = wst.SubTypeId AND wta.WorkFlowTypeId = wst.WorkFlowTypeId AND wta.Active=1 INNER JOIN Accretive_Actions a on wta.ActionId = a.ID AND a.Active=1 WHERE A.IsRequired = 1 and dsc.DefectSubCategoryId='%s' and A.FollowUPDays = '0';
ToGetRandomActions=SELECT top 1 A.ID as ActionID ,A.Name as Name ,A.IsRequired ,A.TimeLimit ,A.FollowUPDays FROM Accretive_DefectSubCategory dsc INNER JOIN Accretive_DefectSOP sop on dsc.DefectSubCategoryId = sop.DefectSubCategoryId INNER JOIN Accretive_WorkflowTypes wt ON wt.Name='Integrated Defect Management' INNER JOIN Accretive_Workflowsubtypes wst on wt.ID = wst.WorkflowTypeId AND sop.WorkflowSubTypeId = wst.subTypeID AND wst.Active=1 INNER JOIN Accretive_WorkflowTypeActions wta on wta.SubTypeId = wst.SubTypeId AND wta.WorkFlowTypeId = wst.WorkFlowTypeId AND wta.Active=1 INNER JOIN Accretive_Actions a on wta.ActionId = a.ID AND a.Active=1 WHERE dsc.DefectSubCategoryId='%s' and A.IsRequired = 1 order by NEWID();
ToGetRandomSubCategory=select top 1 DefectSubCategoryDesc, DefectSubCategoryID from DefectSubCategory where IsActive= 1 and DefectTypeID = 1 order by NEWID();
ToFindDefectCateogory=select top 1 DefectTypeDesc from DefectType where IsActive = 1 and ApplicationID =1 and DefectTypeID=1;
ToFindDefectSubCategory=select top 1 DefectSubCategoryDesc, DefectSubCategoryID from DefectSubCategory where IsActive= 1 and DefectTypeID = 1 order by DefectSubCategoryDesc;
ToFindDetailsDefectCateogory=select top 1 DefectTypeDesc, DefectTypeID from DefectType where IsActive = 1 and ApplicationID =1 and DefectTypeID in (select top 1 DefectTypeID from InventoryDefectType where inventoryTypeID in (select inventoryTypeID from InventoryDefectType where DefectTypeID = '1') and not DefectTypeID = '1');
ToFindDetailsDefectSubCateogory=select top 1 DefectSubCategoryDesc, DefectSubCategoryID from DefectSubCategory where IsActive= 1 and DefectTypeID = '%s';
ToFindActions=SELECT top 1 A.ID as ActionID ,A.Name as Name ,A.IsRequired ,A.TimeLimit ,A.FollowUPDays FROM Accretive_DefectSubCategory dsc INNER JOIN Accretive_DefectSOP sop on dsc.DefectSubCategoryId = sop.DefectSubCategoryId INNER JOIN Accretive_WorkflowTypes wt ON wt.Name='Integrated Defect Management' INNER JOIN Accretive_Workflowsubtypes wst on wt.ID = wst.WorkflowTypeId AND sop.WorkflowSubTypeId = wst.subTypeID AND wst.Active=1 INNER JOIN Accretive_WorkflowTypeActions wta on wta.SubTypeId = wst.SubTypeId AND wta.WorkFlowTypeId = wst.WorkFlowTypeId AND wta.Active=1 INNER JOIN Accretive_Actions a on wta.ActionId = a.ID AND a.Active=1 WHERE dsc.DefectSubCategoryId='%s' and A.IsRequired = 1 order by NEWID();
ToFindDetailsOfDefectCateogory=select top 1 DefectTypeDesc, DefectTypeID from DefectType where IsActive = 1 and ApplicationID =1 and DefectTypeID not in (select DefectTypeID from InventoryDefectType where inventoryTypeID in (select inventoryTypeID from InventoryDefectType where DefectTypeID = '1') and not DefectTypeID = '1') and not DefectTypeID= '1';
ToFindActionsQuery=SELECT top 1 A.ID as ActionID ,A.Name as Name ,A.IsRequired ,A.TimeLimit ,A.FollowUPDays FROM Accretive_DefectSubCategory dsc INNER JOIN Accretive_DefectSOP sop on dsc.DefectSubCategoryId = sop.DefectSubCategoryId INNER JOIN Accretive_WorkflowTypes wt ON wt.Name='Integrated Defect Management' INNER JOIN Accretive_Workflowsubtypes wst on wt.ID = wst.WorkflowTypeId AND sop.WorkflowSubTypeId = wst.subTypeID AND wst.Active=1 INNER JOIN Accretive_WorkflowTypeActions wta on wta.SubTypeId = wst.SubTypeId AND wta.WorkFlowTypeId = wst.WorkFlowTypeId AND wta.Active=1 INNER JOIN Accretive_Actions a on wta.ActionId = a.ID AND a.Active=1 WHERE not dsc.DefectSubCategoryId='%s' and A.IsRequired = 1 order by NEWID();
ToFindInactiveDefectSubCategory=select top 1 DefectSubCategoryDesc, DefectSubCategoryID from DefectSubCategory where IsActive= 0 and DefectTypeID = 1 order by DefectSubCategoryDesc;
ToFindActionQuery=SELECT top 1 A.ID as ActionID ,A.Name as Name ,A.IsRequired ,A.TimeLimit ,A.FollowUPDays FROM Accretive_DefectSubCategory dsc INNER JOIN Accretive_DefectSOP sop on dsc.DefectSubCategoryId = sop.DefectSubCategoryId INNER JOIN Accretive_WorkflowTypes wt ON wt.Name='Integrated Defect Management' INNER JOIN Accretive_Workflowsubtypes wst on wt.ID = wst.WorkflowTypeId AND sop.WorkflowSubTypeId = wst.subTypeID AND wst.Active=1 INNER JOIN Accretive_WorkflowTypeActions wta on wta.SubTypeId = wst.SubTypeId AND wta.WorkFlowTypeId = wst.WorkFlowTypeId AND wta.Active=1 INNER JOIN Accretive_Actions a on wta.ActionId = a.ID AND a.Active=1 WHERE A.name not in (SELECT A.name FROM Accretive_DefectSubCategory dsc INNER JOIN Accretive_DefectSOP sop on dsc.DefectSubCategoryId = sop.DefectSubCategoryId INNER JOIN Accretive_WorkflowTypes wt ON wt.Name='Integrated Defect Management' INNER JOIN Accretive_Workflowsubtypes wst on wt.ID = wst.WorkflowTypeId AND sop.WorkflowSubTypeId = wst.subTypeID AND wst.Active=1 INNER JOIN Accretive_WorkflowTypeActions wta on wta.SubTypeId = wst.SubTypeId AND wta.WorkFlowTypeId = wst.WorkFlowTypeId AND wta.Active=1 INNER JOIN Accretive_Actions a on wta.ActionId = a.ID AND a.Active=1 WHERE dsc.DefectSubCategoryId='%s' and A.IsRequired = 1) and  A.IsRequired = 1 order by NEWID();
***********************************************
*******Upload Documents************
**********************************************
ToGetDocumentDetails=Select * from document where RegistrationID='%s' and createduserid='%s' order by createddatetime desc;
ToGetTypesForUploadDocuments=Select top 1 * from CodeDetail where CategoryID = (SELECT CategoryId from CodeCategory where CategoryName ='AHtoDecisionDocuments') order by NEWID();